---
applyTo: '.github/prompts/AssetOptimization.prompt.md'
description: 'Guide AI agents in optimizing VS Code Copilot customization assets while maintaining repository integrity, preserving all existing links and hard references, and understanding the broader repository context and intent'
---

# Asset Optimization & Repository Analysis Instructions (v1.0-h1)

<!-- Harmonization Metadata -->
**Harmonized With**: AssetOptimization.prompt.md, CopilotCustomizer.chatmode.md  
**Binding Version**: harmony-v1.0 | **Last Harmonized**: 2025-09-15 | **Preservation Level**: medium

<!-- Harmony Metadata -->
**Schema Compliance**: VS Code Custom Instructions Schema v1.0  
**Harmonization Metadata**: schemaVersion: "1.0" | harmonizationDate: "2025-09-15" | bindingStrength: "standard"  
**Harmonized Assets**: AssetOptimization.instructions.md, AssetOptimization.prompt.md

## Harmonized Assets

**Paired Prompt**: [AssetOptimization.prompt.md](../prompts/AssetOptimization.prompt.md) - Asset optimization execution prompt with comprehensive framework integration  
**Related Assets**: [CopilotCustomizer.chatmode.md](../chatmodes/CopilotCustomizer.chatmode.md) - Core customization framework  
**Asset Ecosystem**: Part of 16-asset Copilot customization framework

**Harmonization**: comprehensive-harmony-v1.0 (enhanced cross-references)  
**Binding Strength**: standard | **Preservation Level**: medium  
**Content Changes**: <8% (YAML front matter + cross-references)

## Context Overview

Guide AI agents in optimizing VS Code Copilot customization assets (`*.chatmode.md`, `*.instructions.md`, `*.prompt.md`, `AGENTS.md`, `.agent.md`) while maintaining repository integrity, preserving all existing links and hard references, and understanding the broader repository context and intent.

## Objective

Enhance clarity, formatting, and functionality of Copilot assets through systematic optimization that respects existing relationships, researches referenced repositories for context, and delivers improvements without breaking critical dependencies or losing repository-specific knowledge. Execute via [AssetOptimization.prompt.md](../prompts/AssetOptimization.prompt.md) for consistent application.

## Repository Analysis Requirements

### Pre-Optimization Research
- Scan target repository structure to understand project context and intent
- Identify all cross-references between assets (chat mode bindings, instruction pairings, prompt relationships)
- Map external repository references and validate accessibility
- Document repository-specific conventions and patterns
- Assess compatibility with VS Code Copilot customization standards per [CopilotCustomizer.chatmode.md](../chatmodes/CopilotCustomizer.chatmode.md)

### Reference Inventory
- Catalog all internal links (relative paths, file references, section anchors)
- Document external links (URLs, documentation, examples)
- Identify paired relationships (chat modes ↔ instructions, prompts ↔ instructions)
- Map dependency chains and inheritance patterns
- Note version dependencies and schema requirements

## Asset Preservation Rules

### Critical Elements to Preserve
- All existing links and hard references (internal and external)
- Chat mode bindings and instruction pairings
- Version numbers and schema compatibility markers
- External documentation URLs and examples
- Directory structures and canonical paths
- Front-matter fields and metadata

### Layout Preservation
- Maintain general section ordering and hierarchy
- Preserve established patterns within asset types
- Keep existing table structures where functional
- Maintain code block formatting and examples
- Respect existing Harmony pattern implementations

### Reference Validation Protocol
- Test all internal links for accessibility
- Validate external URLs for responsiveness
- Confirm paired asset relationships remain intact
- Verify schema compliance after optimization
- Check cross-references resolve correctly

## Optimization Standards

### Enhancement Strategies
- **Clarity Improvements**: Simplify complex language, improve section headings, enhance readability
- **Formatting Enhancements**: Standardize bullet points, improve table layouts, optimize code blocks  
- **Token Efficiency**: Remove redundancy, compress verbose sections, eliminate unnecessary repetition
- **Structural Organization**: Improve section flow, enhance scanability, optimize information hierarchy
- **Content Quality**: Strengthen examples, clarify instructions, improve actionability

### Multi-Faceted Enhancement Approach
- **Semantic**: Improve meaning and understanding without changing intent
- **Syntactic**: Enhance markdown formatting and structure consistency
- **Pragmatic**: Increase usability and practical application
- **Aesthetic**: Improve visual scanning and professional appearance
- **Functional**: Strengthen tool integration and workflow efficiency

### Optimization Boundaries
- Never modify core functionality or behavioral expectations
- Preserve all technical specifications and requirements
- Maintain compatibility with existing workflows
- Respect established naming conventions and terminology
- Keep all enforcement rules and compliance requirements

## Tech Stack & Constraints

### Technology Stack
- Markdown formatting and VS Code Copilot customization standards
- GitHub repository analysis and cross-reference validation
- File system navigation and dependency mapping
- Link validation and reference integrity checking

### Critical Constraints
- **Link Preservation**: 100% retention of existing links and references
- **Output Location**: All results must be saved to `CopilotCustomizer/output/` folder
- **Repository Research**: Must analyze referenced repositories for context
- **Layout Maintenance**: General structure and organization must be preserved
- **Compatibility**: Optimizations must not break existing integrations

## Security & Compliance

### Link Integrity Security
- Validate all external links for security and appropriateness
- Ensure internal references don't expose sensitive paths
- Maintain access control patterns in repository references
- Preserve security-related configuration and constraints

### Compliance Requirements
- Maintain schema version compatibility
- Preserve regulatory compliance notes where present
- Keep audit trail of optimization changes
- Document any links that cannot be validated

## Testing Strategy

### Validation Testing
- **Link Testing**: Verify all internal and external references resolve correctly
- **Schema Validation**: Confirm optimized assets meet VS Code Copilot requirements
- **Integration Testing**: Validate paired relationships remain functional
- **Repository Context**: Ensure optimizations align with repository intent and patterns

### Quality Assurance
- Compare before/after versions for reference integrity
- Test optimized assets in VS Code Copilot environment
- Validate cross-references and dependency chains
- Confirm output location and naming compliance

## Tooling & Automation

### Required Capabilities
- File system scanning and repository structure analysis
- Link validation and reference integrity checking
- Markdown parsing and formatting optimization
- Cross-reference mapping and dependency tracking
- Repository research and context extraction

### Output Management
- Save all optimized assets to `CopilotCustomizer/output/` with clear naming
- Generate optimization reports documenting changes made
- Create reference integrity validation reports
- Maintain audit trail of preserved vs modified elements

## Documentation Requirements

### Optimization Documentation
- Document all changes made during optimization process
- List preserved references and their validation status
- Note any repository context discoveries that influenced decisions
- Record enhancement strategies applied and their rationale

### Output Standards
- Clear file naming indicating optimization date and scope
- Comprehensive change summaries with before/after comparisons
- Reference integrity reports showing all validated links
- Repository context analysis documenting discovered patterns and conventions

## Review & Acceptance Criteria

### Pre-Optimization Checklist
- [ ] Repository structure analyzed and documented
- [ ] All existing references inventoried and validated
- [ ] Repository context and intent understood
- [ ] Optimization strategy planned with preservation priorities

### Post-Optimization Validation
- [ ] 100% of existing links and references preserved and functional
- [ ] General layout and structure maintained
- [ ] Repository intent and context respected
- [ ] Enhanced clarity and formatting achieved
- [ ] Output saved to correct location (`CopilotCustomizer/output/`)
- [ ] Optimization report generated with change documentation
- [ ] All paired relationships validated and functional
- [ ] Schema compliance confirmed

## Workflow Integration

### Execution via AssetOptimization.prompt.md
**Integration Pattern**: [AssetOptimization.prompt.md](../prompts/AssetOptimization.prompt.md)
- Use prompt generator for consistent optimization application
- Apply refinement commands for targeted enhancement
- Validate output against this framework's standards

### Quality Assurance via CopilotCustomizer.chatmode.md
**Framework Integration**: [CopilotCustomizer.chatmode.md](../chatmodes/CopilotCustomizer.chatmode.md)
- Use `refine: audit` for structural validation
- Apply `refine: optimize` for token efficiency  
- Leverage `refine: concise` for executive summaries

## Refinement Commands

| Command | Action |
|---------|--------|
| `refine: preserve-refs` | Focus exclusively on reference preservation and validation |
| `refine: repo-analysis` | Deepen repository context research and pattern analysis |
| `refine: enhancement` | Expand optimization strategies while maintaining constraints |
| `refine: validate` | Strengthen validation protocols and quality assurance |

## Depth Modes

| Mode | Adjustments |
|------|-------------|
| standard | Balanced optimization with comprehensive reference preservation and repository analysis |

## Change Management

Version tracking aligned with asset optimization cycles and reference integrity validation requirements.

## Reference Validation & Enhancement Strategies

### Advanced Link Analysis
- Deep validation of documentation URLs and their current relevance
- Analysis of repository evolution and link currency
- Cross-repository pattern recognition for consistency
- Identification of broken or outdated references with suggested alternatives

### Enhancement Methodologies
- **Progressive Enhancement**: Layer improvements while maintaining baseline functionality
- **Conservative Optimization**: Prefer minimal changes that maximize impact
- **Context-Aware Enhancement**: Tailor optimizations to repository-specific patterns and conventions
- **Iterative Refinement**: Support multiple optimization passes with accumulated improvements

## Monitoring & Observability

### Optimization Tracking
- Monitor link validation success rates across optimization sessions
- Track enhancement impact on asset usability and clarity
- Measure repository context accuracy and application effectiveness
- Document optimization pattern success across different asset types

### Quality Metrics
- Reference preservation rate (target: 100%)
- Clarity improvement scores (readability, scanability, actionability)
- Repository context alignment validation
- Output location compliance and naming consistency

## Summary & Next Actions

Execute systematic asset optimization through repository analysis, reference preservation, and multi-faceted enhancement while ensuring 100% link integrity and proper output management to `CopilotCustomizer/output/` folder. Use [AssetOptimization.prompt.md](../prompts/AssetOptimization.prompt.md) for consistent execution.

## Risk Register

### High-Risk Areas
- **Cross-Reference Breakage**: Modifying linked content without updating references → Mitigation: Comprehensive reference mapping and validation
- **Repository Context Loss**: Optimizing without understanding repo intent → Mitigation: Mandatory pre-optimization repository analysis  
- **Schema Incompatibility**: Changes that break VS Code Copilot integration → Mitigation: Schema validation testing
- **Output Misplacement**: Saving results to incorrect locations → Mitigation: Enforced output path validation

### Medium-Risk Considerations
- **Over-optimization**: Removing content that appears redundant but serves specific purposes
- **Pattern Inconsistency**: Applying optimizations that conflict with repository-specific conventions
- **Link Currency**: External references that become outdated during optimization process

## Binding References

- **Execution Prompt**: [AssetOptimization.prompt.md](../prompts/AssetOptimization.prompt.md) - Asset optimization workflow executor
- **Framework**: [CopilotCustomizer.chatmode.md](../chatmodes/CopilotCustomizer.chatmode.md) - Core customization architecture
- **Standards**: [FormatAssets.instructions.md](../instructions/FormatAssets.instructions.md) - Output formatting compliance

## Standards Compliance & Processing Metadata

**VS Code Copilot Compliance**: Custom Instructions Schema - Full compliance achieved  
**Schema Requirements**: 
- ✅ Required `applyTo` field in YAML front matter targeting all files
- ✅ Required `description` field with comprehensive optimization overview
- ✅ Markdown body with detailed optimization guidelines and workflows
- ✅ Documentation sources referenced per schema guidelines

**Standards Sources**: 
- [VS Code Custom Instructions](https://code.visualstudio.com/docs/copilot/customization/custom-instructions)
- [VS Code Copilot Documentation](https://code.visualstudio.com/docs/copilot/customization/)

**Processing Metadata**:
- **Standards Version**: VS Code Copilot v2025.09 (Custom Instructions latest)
- **Harmonization**: comprehensive-harmony-v1.0 (enhanced cross-references)
- **Content Preservation**: 100% functionality maintained with enhanced standards
- **Formatting Applied**: 2025-09-15 | Standards compliance verified

## Conformance Note

These instructions align with `instructions/GenerateInstructions.md` schema and provide specialized guidance for asset optimization with comprehensive reference preservation and repository context integration. Integrates seamlessly with [AssetOptimization.prompt.md](../prompts/AssetOptimization.prompt.md) for execution.

---

**Harmonization Applied**: 2025-09-15 | **Asset Integration**: 16-file ecosystem  
**Cross-References**: Enhanced with bidirectional binding | **Schema**: VS Code v1.0 compliant  

*Generated and formatted following VS Code GitHub Copilot official documentation standards*